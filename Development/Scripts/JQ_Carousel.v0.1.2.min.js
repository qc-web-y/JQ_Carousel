$.fn.extend({carousel:function(n){var t=n||{};return this.each(function(){function a(n){l||(n===o-1?i.l.fadeOut(500):i.l.css("display")==="none"&&i.l.fadeIn(500),n===0?i.r.fadeOut(500):i.r.css("display")==="none"&&i.r.fadeIn(500));k.stop().animate({"margin-left":-p*n+c},d)}function nt(){e.on("touchstart",function(n){n.preventDefault();f(!1);clearTimeout(u);k.stop();var t=n.originalEvent.targetTouches[0];s.sx=t.clientX});e.on("touchend",function(t){var r,i;t.preventDefault();r=t.originalEvent.changedTouches[0];s.ex=r.clientX;i=s.sx-s.ex;i>10&&n<o-1&&(n<o-1?n++:n=o-1);i<10&&n>0&&(n>0?n--:n=0);a(n);u=setTimeout(function(){f(!0);clearTimeout(u)},h)})}function f(t){var i=t&&!0;i?w=setInterval(function(){n<=0&&r&&(r=!1);n>=0&&!r&&n++;n<=o&&r&&n--;n>=o-1&&!r&&(r=!0);a(n)},h):clearInterval(w)}var b=this,e=$(b),k=t.imgWrap||e.find(".carousel-wrap"),g=t.img||e.find(".carousel-img"),o=g.length,h=t.timer||2e3,r=!1,n=0,u,c,i,v,y,l,d,p,s,w;c=t.containerW?t.containerW.replace(/\d+\.?\d+/,""):"px";i=!1;t.arrow?t.arrow.l&&t.arrow.r&&(i=t.arrow):(v=e.find(".arrowLeft"),y=e.find(".arrowRight"),v.length>0&&y.length>0&&(i={l:v,r:y}));l=!1;/(iPhone|iPad|iPod|iOS|Android)/i.test(navigator.userAgent)&&(l=!0);d=t.animateTimer||800;c==="rem"?p=t.containerW.match(/\d+\.?\d+/)[0]:c==="px"&&(p=e.width());s={};w=b.className+(new Date).getTime();e.hover(function(){f(!1)},function(){f(!0)});o>1&&(f(!0),nt());i&&(l?(i.r.hide(),i.l.hide()):(i.r.hide(),i.l.click(function(){clearTimeout(u);f(!1);n!==o-1?(n++,a(n)):r||(r=!0);u=setTimeout(function(){f(!0);clearTimeout(u)},h)}),i.r.click(function(){clearTimeout(u);f(!1);n!==0?(n--,a(n)):r&&(r=!1);u=setTimeout(function(){f(!0);clearTimeout(u)},h)})))})}});