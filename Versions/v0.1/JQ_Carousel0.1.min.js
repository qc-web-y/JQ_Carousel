function carousel(){return this.each(function(){function o(i){var i=!0&&i;i?s=setInterval(function(){r&&n<=t-1&&n++;n>t-1&&(n=t-1,r=!1);!r&&n>0&&n--;n<=0&&(r=!0);e.stop().animate({"margin-left":-u*n},l)},h):clearInterval(s)}var i={}||i,e=i.imgWrap||$(this).find(".carousel-wrap"),a=i.img||$(this).find(".carousel-img"),t=a.length,u=$(this).width(),v=u*t-u,s=this.className+(new Date).getTime(),h=i.timer||2e3,c,l=i.animateTimer||800,f={},n=0,r;if(v>0){$(this).on("touchstart",function(n){n.preventDefault();o(!1);clearTimeout(c);e.stop();var t=n.originalEvent.targetTouches[0];f.sx=t.clientX});$(this).on("touchend",function(i){var s,r;i.preventDefault();s=i.originalEvent.changedTouches[0];f.ex=s.clientX;r=f.sx-f.ex;r>10&&n<t-1&&(n<t-1?n++:n=t-1);r<10&&n>0&&(n>0?n--:n=0);e.animate({"margin-left":-u*n},l);c=setTimeout(function(){o(!0)},h)})}r=!0;o(!0)})}$.fn.extend({carousel});