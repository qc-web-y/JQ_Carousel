function carousel() { return this.each(function () { function e(i) { var i = !0 && i; i ? s = setInterval(function () { r && n <= t - 1 && n++; n > t - 1 && (n = t - 1, r = !1); !r && n > 0 && n--; n <= 0 && (r = !0); f.stop().animate({ "margin-left": -o * n }, l) }, h) : clearInterval(s) } var i = {} || i, f = i.imgWrap || $(this).find(".carousel-wrap"), a = i.img || $(this).find(".carousel-img"), t = a.length, o = $(this).width(), s = this.className + (new Date).getTime(), h = i.timer || 2e3, c, l = i.animateTimer || 800, u = {}, n = 0, r; if (t > 1) { $(this).on("touchstart", function (n) { n.preventDefault(); e(!1); clearTimeout(c); f.stop(); var t = n.originalEvent.targetTouches[0]; u.sx = t.clientX }); $(this).on("touchend", function (i) { var s, r; i.preventDefault(); s = i.originalEvent.changedTouches[0]; u.ex = s.clientX; r = u.sx - u.ex; r > 10 && n < t - 1 && (n < t - 1 ? n++ : n = t - 1); r < 10 && n > 0 && (n > 0 ? n-- : n = 0); f.animate({ "margin-left": -o * n }, l); c = setTimeout(function () { e(!0) }, h) }) } r = !0; t > 1 && e(!0) }) } $.fn.extend({ carousel });